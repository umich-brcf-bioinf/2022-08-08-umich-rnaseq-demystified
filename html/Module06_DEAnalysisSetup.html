<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="UM Bioinformatics Core" />

<meta name="date" content="2022-08-03" />

<title>Day 2 - Module 06: Analysis Setup &amp; Introduction to DESeq2</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link rel="shortcut icon" href="favicon-16x16.png" />
<!--
Favicon from
https://twemoji.twitter.com/
https://favicon.io/emoji-favicons/dna/
-->

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">RNA-Seq Demystified</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Module00_Introduction.html">Intro</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Sequence QC
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Module01_Warming_Up.html">Warming up</a>
    </li>
    <li>
      <a href="Module02a_QC.html">Quality Control</a>
    </li>
    <li>
      <a href="Module02b_Cutadapt_MoreQC.html">Cutadapt/MoreQC</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Alignment
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Module03_Reference_Genomes.html">Reference Genomes</a>
    </li>
    <li>
      <a href="Module04_Alignment.html">Alignment/Quantification (STAR/RSEM)</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Quantification
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Module05a_MultiQC_and_Count_Matrix.html">Count matrix / Alignment QC</a>
    </li>
    <li>
      <a href="Module05b_Additional_Details.html">Optional: Additional details</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Groups/Model
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Module06_DEAnalysisSetup.html">Introduction to DESeq2</a>
    </li>
    <li>
      <a href="Module07_DESeq2Init.html">DESeq2 Initialization</a>
    </li>
    <li>
      <a href="Module08_DESeq2DE.html">Count Normalizations and DESeq2 model fitting</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Expression plots
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Module09_SampleQCViz.html">Sample Visualizations for QC</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Diff Expression
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Module10_DEComparisons.html">Comparisons</a>
    </li>
    <li>
      <a href="Module11_DEVisualizations.html">DE Visiualization and Annotation</a>
    </li>
    <li>
      <a href="Module11X_BonusContent.html">Bonus content</a>
    </li>
  </ul>
</li>
<li>
  <a href="Module99_Wrap_up.html">Wrap up</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Day 2 - Module 06: Analysis Setup &amp;
Introduction to DESeq2</h1>
<h4 class="author">UM Bioinformatics Core</h4>
<h4 class="date">2022-08-03</h4>

</div>


<style type="text/css">

body, td {
   font-size: 18px;
}
code.r{
  font-size: 12px;
}
pre {
  font-size: 12px
}

</style>
<blockquote>
<h1 id="objectives">Objectives:</h1>
<ul>
<li>Overview of reproducible research &amp; analysis setup</li>
<li>Broad introduction to DESeq2 &amp; why it is widely used for
differential expression comparisons</li>
<li>How to import and review gene count table</li>
</ul>
</blockquote>
<div id="differential-expression-workflow" class="section level1">
<h1>Differential Expression Workflow</h1>
<p>Today we will proceed through key steps in a differential expression
analysis, starting from a count table that’s similar to what you
generated in the first half of the workshop and similar to the one of
the outputs included in the <a
href="https://brcf.medicine.umich.edu/cores/advanced-genomics/data-delivery/">data
that the Advanced Genomics Core delivers</a> for RNA-seq libraries.</p>
<p><img src="images/wayfinder/wayfinder-07.png"
style="width:95.0%" /></p>
</div>
<div id="reproducible-research" class="section level1">
<h1>Reproducible Research</h1>
<p>Today we’ll be exploring some RNA-seq data that is fairly
representative of what we see in the core and start with input files
similar to the count table you generated in the previous steps and
similar to one of the outputs currently being delivered by the Advanced
Sequencing Core.</p>
<div id="warm-up" class="section level4">
<h4>[Warm-Up]</h4>
<p>To get started, let’s get a sense of what approaches you already use
to compare gene expression:</p>
<ul>
<li>If you’ve run a qPCR assay and enjoyed all the pipetting, put up a
green ‘check’. If you’ve run a qPCR assay and needed some time away from
the multichannels, put up a red ‘x’ from the reaction panel.</li>
<li>If cloning a gene reporter construct (ie: promoter + GFP), worked
for you the first time, put up a green check. If you have a freezer box
full of cloning attempts, put up a red ‘x’.</li>
<li>If you are ready to learn about bioinformatic tools for comparing
gene expression, put up a green check. If you have some questions that
should be addressed before we get started, use the ‘raise hand’
reaction.</li>
</ul>
</div>
</div>
<div id="getting-started" class="section level1">
<h1>Getting Started</h1>
<div id="log-on-to-rstudio-server" class="section level2">
<h2>Log on to RStudio Server</h2>
<p>Open a web browser and enter the following URL.</p>
<pre><code>http://bfx-workshop01.med.umich.edu</code></pre>
<p>You should now be looking at a page that will allow you to login to
the RStudio server:</p>
<p><img src="images/rstudio_login_screen.png" alt="rstudio default session" style="width: 1000px;"/></p>
<p>Enter your user credentials and click <kbd>Sign In</kbd>. The
credentials were provided via email, but if you forget yours, a helper
can retrieve it for you, just ask in Slack. You should now see the
RStudio interface:</p>
<p><img src="images/rstudio_session_default.png" alt="rstudio default session" style="width:1000px;"/></p>
</div>
<div id="create-an-rstudio-project" class="section level2">
<h2>Create an RStudio Project</h2>
<p>In the Computational Foundation workshop we created a project rooted
in a particular directory and stored our data, scripts and output within
that project. Let’s do the same thing, but for the differential
expression part of this workshop.</p>
<ol style="list-style-type: decimal">
<li>To create a project, go to the <kbd>File</kbd> menu, and click
<kbd>New Project…</kbd>. The following window will appear:</li>
</ol>
<p><img src="images/new_project_window.png" alt="new project window" style="width: 600px;"/></p>
<ol start="2" style="list-style-type: decimal">
<li><p>In this window, select <kbd>Existing Directory</kbd>. For
“Project working directory”, click <kbd>Browse…</kbd>, select the
“RSD_R” folder, and click <kbd>Choose</kbd>. This will use the
<code>/home/workshop/user/RSD_R</code> folder as the project
directory.</p></li>
<li><p>Finally click <kbd>Create Project</kbd>. In the “Files” tab of
your output pane (more about the RStudio layout in a moment), you should
see an RStudio project file, <strong>RSD_R.Rproj</strong>. All RStudio
projects end with the “<strong>.Rproj</strong>” file extension.</p></li>
</ol>
<p>Note that there is already a <code>data/</code> folder which contains
the data we will use for these lessons.</p>
</div>
<div id="creating-an-r-script" class="section level2">
<h2>Creating an R script</h2>
<p>Let’s create an R script file to store all the code we’re going to
run in the forthcoming lessons.</p>
<ul>
<li>Click the <kbd>File</kbd> menu and select <kbd>New File</kbd> and
then <kbd>R Script</kbd>.</li>
<li>Before we go any further, save your script by clicking the save/disk
icon that is in the bar above the first line in the script editor, or
click the <kbd>File</kbd> menu and select <kbd>Save</kbd>.</li>
<li>In the “Save File” window that opens, select <kbd>New Folder</kbd>.
Name it <strong>“scripts”</strong>.</li>
<li>Finally, name your file <strong>“diffex”</strong> in the “File name”
field.</li>
</ul>
<p>The new script <strong>diffex.R</strong> is now in the
<code>scripts</code> folder. You can see that by clicking the
<code>scripts</code> folder in the “Files” pane. And you can go back up
to the main project folder by clicking the <code>..</code> to the right
of the up arrow in the “Files” pane. By convention, R scripts end with
the file extension <strong>.R</strong>.</p>
</div>
<div id="best-practices-for-file-organization" class="section level2">
<h2>Best practices for file organization</h2>
<p>As widely discussed, including in a review by <a
href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424">Nobel,
2009</a>, file organization and data stewardship are an important parts
of reproducible research.</p>
<p>To follow best practices for file organization for
bioinformatics/computational projects, we should make distinct locations
for:</p>
<ul>
<li>Raw data</li>
<li>Code</li>
<li>Output</li>
</ul>
<p>Such as illustrated in this figure from the Noble review:</p>
<p><img src="images/Noble2009_dataprojects.png" alt="new project window" style="width: 600px;"/></p>
<p>To organize our files for our analysis today, we’ll create some
directories in the <code>RSD_R</code> folder which is now our project
root and current working directory. We can already see that there a
<code>data/</code> folder and we just created the <code>scripts/</code>
folder with the RStudio GUI. Let’s create an <code>outputs/</code>
folder using the <code>dir.create()</code> function in R.</p>
<pre class="r"><code>dir.create(&quot;outputs&quot;)</code></pre>
<p><strong>Checkpoint</strong>: <em>Please use the green ‘check’ if you
have saved your code file and see the <code>data</code>,
<code>scripts</code>, and <code>outputs</code> directories in the
<code>RSD_R</code> folder and the red ‘x’ if you do not.</em></p>
<blockquote>
<h1 id="reminder-code-execution-shortcut">Reminder: Code execution
shortcut</h1>
<p><strong>Ctrl-Enter</strong> is a standard shortcut in Rstudio to send
the current line (or selected lines) to the console. If you see an
<code>&gt;</code>, then R has executed the command. If you see a
<code>+</code>, this means that the command is not complete and R is
waiting (usually for a <code>)</code>).</p>
<p><br></p>
</blockquote>
<blockquote>
<h1 id="reminder-object-naming-conventions">Reminder: Object naming
conventions</h1>
<ul>
<li>Cannot start with numbers</li>
<li>Cannot include dashes</li>
<li>Cannot have spaces</li>
<li>Should not be identical to a named function</li>
<li>Dots &amp; underscores will work but are better to avoid</li>
</ul>
</blockquote>
<hr />
</div>
<div id="check-package-installations" class="section level2">
<h2>Check package installations</h2>
<p>Several packages have already been installed on the server, so we can
load them into our R session now. To do that we’ll use the
<code>library</code> function to load the required packages.</p>
<pre class="r"><code>library(DESeq2)
library(ggplot2)
library(tidyr)
library(dplyr)
library(matrixStats)
library(ggrepel)
library(pheatmap)
library(RColorBrewer)
library(data.table)</code></pre>
<p><em>Note: We expect to see some red messages in your console while
these packages are loading</em></p>
<p>R/RStudio has great resources for getting help, including <a
href="https://www.rstudio.com/wp-content/uploads/2016/10/r-cheat-sheet-3.pdf">code
‘cheatsheets’</a> and package vignettes, like for <a
href="https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html">tidyr</a>.</p>
<p>Since we loaded the libraries into our R session, we can see
documentation out using the <code>?</code> operator.</p>
<pre class="r"><code>?`DESeq2-package`</code></pre>
<p><strong>Checkpoint</strong>: <em>If you see the R documentation for
<code>DESeq2</code> pop up in your ‘help’ panel on the right, please
indicate with the green ‘check’ button. If not please use the red ‘x’
button.</em></p>
<hr />
</div>
</div>
<div id="tools-for-differential-gene-expression-analysis"
class="section level1">
<h1>Tools for Differential Gene Expression analysis</h1>
<p>As discussed during the webinar, a common application for bulk
RNA-seq is to test for differential expression between conditions or
treatments, using statistical approaches that are appropriate for
biological data.</p>
<p>While there are several tools that can be used for differential
expression comparisons, we will use <a
href="https://bioconductor.org/packages/release/bioc/html/DESeq2.html">DESeq2</a>
in our analysis today.</p>
<p>DESeq2 is one of two tools, along with <a
href="https://bioconductor.org/packages/release/bioc/html/edgeR.html">EdgeR</a>,
considered <a
href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-14-91">‘best
practice’</a> for differential expression. Both tools apply similar
methods that account for the distributions we expect to see for RNA-seq
and are fairly stringent in calling differentially expressed genes,
lowering the risk of investigating genes that were really false
positives (e.g. don’t really have different expression between treatment
groups and therefore are not relevant to the biological process).</p>
<p>Additionally, <code>DESeq2</code> also has an <a
href="https://bioconductor.org/packages/release/bioc/vignettes/DESeq2/inst/doc/DESeq2.html">excellent
vignette</a> <em>click link to open</em> from Love, Anders, and Huber,
from which our workflow is partially adapted, and is a good resource
when analyzing your own data (see also: <a
href="https://doi.org/10.1186/s13059-014-0550-8">Love, Anders, and
Huber. <em>Genome Biology</em>. 2014.</a>).</p>
<details>
<summary>
<em>Click for additional resources regarding statistical testing and
tool comparison for RNA-seq data</em>
</summary>
To learn more about statistical testing and what distributions best
model the behavior of RNA-seq data, a good resource is this <a
href="https://www.youtube.com/watch?v=HK7WKsL3c2w&amp;feature=youtu.be">EdX
lecture by Rafael Irizarry</a> or this <a
href="https://www.youtube.com/watch?v=C8RNvWu7pAw">lecture by Kasper
Hansen</a>. Another helpful guide is this <a
href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0103207">Comparative
Study for Differential Expression Analysis by Zhang et al.</a> from
2014.
</details>
<div id="deseq2-assumptions-and-requirements" class="section level2">
<h2>DESeq2 assumptions and requirements</h2>
<p>A key assumption of DESeq2 is that for most experiments
<em>biological variance is much greater than technical variance</em>
(especially if <a
href="https://www.txgen.tamu.edu/faq/rna-isolation-best-practices/">best
practices</a> for <a
href="https://www.biocompare.com/Bench-Tips/128790-Four-Tips-for-Perfecting-RNA-Isolation/">quality
RNA isolation</a> are followed, including DNase treatment!).</p>
<p>Since calculating variance is key to the statistical approach used
for DESeq2, if we tried to compare two treatment groups with less than
<strong>two</strong> replicates, we would get an error (as shown in <a
href="https://support.bioconductor.org/p/89746/">this blog post</a>).
Without replicates, there can’t be statistical significance
(e.g. p-values), but <em>qualitative</em> approaches are an option, like
looking at the top expressed genes after normalization.</p>
<div id="replicates-in-rna-seq-experiments" class="section level3">
<h3>Replicates in RNA-seq experiments</h3>
<p>A frequent question for RNA-seq projects is “How many replicates do I
need?”.</p>
<p>The general goal of our analyses is to separate the “interesting”
biological contributions from the “uninteresting” technical or other
contributions that either cannot be or were not controlled in the
experimental design. The more sources of variation, such as samples
coming from heterogenous tissues or experiments with incomplete
knockdowns, the more replicates (&gt;3) are recommended.</p>
<div class="figure">
<img src="images/de_variation.png" style="width:75.0%" alt="" />
<p class="caption">Image of technical, biological, and experimental
contributors to gene expression, from HBC training materials</p>
</div>
<p>For a more in depth discussion of experimental design considerations,
particularly for the number of replicates, please read <a
href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6096346/">A
Beginner’s Guide to Analysis of RNA Sequencing Data</a> and papers like
this one by <a
href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3842884/">Hart et
al</a> that focus on estimating statistical power for RNA-seq
experiments.</p>
<div id="sequencing-depth-recommendations" class="section level4">
<h4>Sequencing depth recommendations</h4>
<p>A related experimental design consideration is how much sequencing
depth should be generated per sample. This figure shared by Illumina in
their technical talks is helpful to understand the relative importance
of replicates versus sequencing depth.</p>
<div class="figure">
<img src="images/de_replicates_img.png" style="width:75.0%" alt="" />
<p class="caption">Illumina’s differential expression recovery across
replicate number and sequencing depth</p>
</div>
<p>Generally, for the human and mouse genomes, the recommendation is
30-40 million reads per sample for polyA library preps to capture both
highly expressed (abundant) and more lowly expressed (rarer)
transcripts, assuming that ~25,000 protein-coding genes would be
measured. However, as the image above shows, sequencing depth has less
of an impact than number of replicates in detecting differentially
expressed genes (DEGs).</p>
</div>
<div
id="exercise-building-a-better-understanding-of-differential-expression-analysis"
class="section level4">
<h4>[Exercise]: Building a better understanding of differential
expression analysis</h4>
<ol style="list-style-type: decimal">
<li>Post a comment below regarding what key question/misconception
regarding designing an RNA-seq experiment we were able to address
<strong>OR</strong></li>
<li>Post a question that that was NOT addressed but that you hope we
will address in the later modules <strong>OR</strong></li>
<li>Add a thumbs up to your favorite comment(s) to upvote it</li>
</ol>
<hr />
</div>
</div>
<div id="raw-data-as-input" class="section level3">
<h3>Raw data as input</h3>
<p>Another key assumption for DESeq2 is that the analysis will start
with <a
href="http://bioconductor.org/packages/devel/bioc/vignettes/DESeq2/inst/doc/DESeq2.html#why-un-normalized-counts">un-normalized
counts</a>.</p>
<p>To begin our analysis, we’ll read in the <strong>raw</strong> count
data file, <code>gene_expected_count.txt</code> which is similar to what
would be generated in the alignment steps yesterday (and what you could
receive from AGC). We’ll discuss later a few normalizations that can be
helpful for us to understand how much a gene is expressed within or
between samples, but normalized data <strong>should not</strong> be used
as an input for DESeq2.</p>
<pre class="r"><code>count_table &lt;- read.table(&quot;data/gene_expected_count.txt&quot;, header = TRUE, row.names = 1)</code></pre>
<pre class="r"><code>head(count_table, n=2) # look at the top of the table</code></pre>
<pre><code>                   SRR7777895 SRR7777896 SRR7777897 SRR7777898 SRR7777899 SRR7777900
ENSMUSG00000000001       1041        905       1296       3481       1283       1921
ENSMUSG00000000003          0          0          0          0          0          0</code></pre>
<p>Now that the file is read into R, note that we’ve created a data
frame that includes ‘gene ids’ in ENSEMBL format as rownames and count
data from twelve different samples.</p>
<div id="exercise-rsem-outputs-versus-deseq2-input-requirements"
class="section level4">
<h4>[Exercise]: RSEM outputs versus DESeq2 input requirements</h4>
<p>If we think back to the RSEM outputs, the ‘expected_counts’ table may
include fractions due to how the alignment tool resolves reads that map
to multiple locuses). Since DESeq2 requires whole numbers, if we try to
use the RSEM ouputs directly, DESeq2 will give us an error.</p>
<p>First let’s check the count table in a different way, to see if our
table includes fractions.</p>
<pre class="r"><code>tail(count_table, n=2)</code></pre>
<pre><code>         SRR7777895 SRR7777896 SRR7777897 SRR7777898 SRR7777899 SRR7777900
mcherry           0          0          0          0          0          0
tdtomato          4          0          1          0          1          0</code></pre>
<p><em>[Question]: To resolve this discrepancy between the RSEM outputs
and expected input for DESeq2, what could we do?</em></p>
<p>To round down all the columns of our <code>count_table</code> that
include count data (all columns since we set the gene names to be our
row names), we can use the <code>round</code>()` function.</p>
<pre class="r"><code>count_table &lt;- round(count_table)
tail(count_table, n=2) # now whole numbers</code></pre>
<pre><code>         SRR7777895 SRR7777896 SRR7777897 SRR7777898 SRR7777899 SRR7777900
mcherry           0          0          0          0          0          0
tdtomato          4          0          1          0          1          0</code></pre>
<p>An important note is that there are several bonus content sections on
the instruction pages, like the two below that we will not be covering
in this workshop, but that may have useful context or be helpful when
you review this material.</p>
<details>
<summary>
<em>Click for alternative DESeq2 input options for RSEM outputs</em>
</summary>
<p>The package <code>tximport</code> is another option<a
href="https://support.bioconductor.org/p/90672/">recommended the DESeq2
authors</a> to read in the RSEM expected_counts, as this package allows
for the average transcript length per gene to be used in the DE analysis
and, as <a href="https://support.bioconductor.org/p/88763/">described by
the author</a>, the <code>tximport-to-DESeqDataSet</code> constructor
function round the non-integer data generated by RSEM to whole
numbers.</p>
</details>
<details>
<summary>
<em>Click for comparison of RNA-seq data and microarray data</em>
</summary>
<p>With <a
href="https://www.illumina.com/science/technology/next-generation-sequencing/microarray-rna-seq-comparison.html">higher
sensitivity, greater flexiblity, and decreasing cost</a>, sequencing has
largely replaced microarray assays for measuring gene expression. A key
difference between the platforms is that microarrays measure intensities
and are therefore <em>continous</em> data while the count data from
sequencing is <em>discrete</em>. A more detailed comparison between
microarrays and sequencing technologies/analysis is outlined in <a
href="https://online.stat.psu.edu/stat555/node/30/">the online materials
for Penn State’s STAT555 course</a></p>
</details>
</div>
</div>
</div>
<div id="getting-help" class="section level2">
<h2>Getting help</h2>
<p>R/Rstudio has a strong community component so if you are getting an
error or wondering how to make a command work or how to perform a
specific task, there is likely already a solution out there. Remember
that Google is your friend, although it can sometimes be a challenge to
figure out <em>what to search for</em>. Key parts of a successful
search:</p>
<ul>
<li>Package or command run</li>
<li><code>R</code> or <code>Bioconductor</code></li>
<li>The error message if there is one</li>
<li>Version information</li>
</ul>
<p>How to get session information to aid in a search:</p>
<pre class="r"><code>sessionInfo()</code></pre>
<p>Highly recommend using resources like <a
href="https://support.bioconductor.org/">Bioconductor Support</a>, <a
href="https://www.biostars.org/">Biostars</a>, and <a
href="https://stackoverflow.com/questions/tagged/r">Stack Overflow</a>,
including threads on specific packages or common bioinformatic
tasks.</p>
<p>I personally use one or more of these resources <strong>every
day</strong>.</p>
<p>10x also has a helpful <a
href="https://www.10xgenomics.com/resources/analysis-guides/10-tips-for-biologists-learning-bioinformatics">10
tips for biologists learning bioinformatics</a> included in their
resources.</p>
</div>
</div>
<div id="summary" class="section level1">
<h1>Summary</h1>
<p>In this section, we:</p>
<ul>
<li>Set up our compute environment</li>
<li>Learned about DESeq2</li>
<li>Loaded our raw count tables (input file 1)</li>
</ul>
<p>Now that we have our count data processed, we can move on to
“unblinding” our data, as the sample names are unique identifiers
generated by a sequencing center and not very informative as far as our
experimental conditions.</p>
<hr />
</div>
<div id="sources" class="section level1">
<h1>Sources</h1>
<p>Training resources used to develop materials:</p>
<ul>
<li>HBC DGE setup: <a
href="https://hbctraining.github.io/DGE_workshop/lessons/01_DGE_setup_and_overview.html"
class="uri">https://hbctraining.github.io/DGE_workshop/lessons/01_DGE_setup_and_overview.html</a></li>
<li>HBC Count Normalization: <a
href="https://hbctraining.github.io/DGE_workshop/lessons/02_DGE_count_normalization.html"
class="uri">https://hbctraining.github.io/DGE_workshop/lessons/02_DGE_count_normalization.html</a></li>
<li>DESeq2 standard vignette: <a
href="http://bioconductor.org/packages/devel/bioc/vignettes/DESeq2/inst/doc/DESeq2.html"
class="uri">http://bioconductor.org/packages/devel/bioc/vignettes/DESeq2/inst/doc/DESeq2.html</a></li>
<li>DESeq2 beginners vignette: <a
href="https://bioc.ism.ac.jp/packages/2.14/bioc/vignettes/DESeq2/inst/doc/beginner.pdf"
class="uri">https://bioc.ism.ac.jp/packages/2.14/bioc/vignettes/DESeq2/inst/doc/beginner.pdf</a></li>
<li>Bioconductor RNA-seq Workflows: <a
href="https://www.bioconductor.org/help/course-materials/2015/LearnBioconductorFeb2015/B02.1_RNASeq.html"
class="uri">https://www.bioconductor.org/help/course-materials/2015/LearnBioconductorFeb2015/B02.1_RNASeq.html</a></li>
<li>CCDL Gastric cancer training materials: <a
href="https://alexslemonade.github.io/training-modules/RNA-seq/03-gastric_cancer_exploratory.nb.html"
class="uri">https://alexslemonade.github.io/training-modules/RNA-seq/03-gastric_cancer_exploratory.nb.html</a></li>
<li>CCDL Neuroblastoma training materials: <a
href="https://alexslemonade.github.io/training-modules/RNA-seq/05-nb_cell_line_DESeq2.nb.html"
class="uri">https://alexslemonade.github.io/training-modules/RNA-seq/05-nb_cell_line_DESeq2.nb.html</a></li>
</ul>
<hr />
<p>These materials have been adapted and extended from materials listed
above. These are open access materials distributed under the terms of
the <a href="http://creativecommons.org/licenses/by/4.0/">Creative
Commons Attribution license (CC BY 4.0)</a>, which permits unrestricted
use, distribution, and reproduction in any medium, provided the original
author and source are credited.</p>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiRGF5IDIgLSBNb2R1bGUgMDY6IEFuYWx5c2lzIFNldHVwICYgSW50cm9kdWN0aW9uIHRvIERFU2VxMiIKYXV0aG9yOiAiVU0gQmlvaW5mb3JtYXRpY3MgQ29yZSIKZGF0ZTogImByIFN5cy5EYXRlKClgIgpvdXRwdXQ6CiAgICAgICAgaHRtbF9kb2N1bWVudDoKICAgICAgICAgICAgaW5jbHVkZXM6CiAgICAgICAgICAgICAgICBpbl9oZWFkZXI6IGhlYWRlci5odG1sCiAgICAgICAgICAgIHRoZW1lOiBwYXBlcgogICAgICAgICAgICB0b2M6IHRydWUKICAgICAgICAgICAgdG9jX2RlcHRoOiA0CiAgICAgICAgICAgIHRvY19mbG9hdDogdHJ1ZQogICAgICAgICAgICBudW1iZXJfc2VjdGlvbnM6IGZhbHNlCiAgICAgICAgICAgIGZpZ19jYXB0aW9uOiB0cnVlCiAgICAgICAgICAgIG1hcmtkb3duOiBHRk0KICAgICAgICAgICAgY29kZV9kb3dubG9hZDogdHJ1ZQotLS0KCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgpib2R5LCB0ZCB7CiAgIGZvbnQtc2l6ZTogMThweDsKfQpjb2RlLnJ7CiAgZm9udC1zaXplOiAxMnB4Owp9CnByZSB7CiAgZm9udC1zaXplOiAxMnB4Cn0KCjwvc3R5bGU+CgpgYGB7ciwgaW5jbHVkZSA9IEZBTFNFfQpzb3VyY2UoIi4uL2Jpbi9jaHVuay1vcHRpb25zLlIiKQprbml0cl9maWdfcGF0aCgiMDYtIikKYGBgCgo+ICMgT2JqZWN0aXZlczoKPiAqIE92ZXJ2aWV3IG9mIHJlcHJvZHVjaWJsZSByZXNlYXJjaCAmIGFuYWx5c2lzIHNldHVwCj4gKiBCcm9hZCBpbnRyb2R1Y3Rpb24gdG8gREVTZXEyICYgd2h5IGl0IGlzIHdpZGVseSB1c2VkIGZvciBkaWZmZXJlbnRpYWwgZXhwcmVzc2lvbiBjb21wYXJpc29ucwo+ICogSG93IHRvIGltcG9ydCBhbmQgcmV2aWV3IGdlbmUgY291bnQgdGFibGUKCgojIERpZmZlcmVudGlhbCBFeHByZXNzaW9uIFdvcmtmbG93CgpUb2RheSB3ZSB3aWxsIHByb2NlZWQgdGhyb3VnaCBrZXkgc3RlcHMgaW4gYSBkaWZmZXJlbnRpYWwgZXhwcmVzc2lvbiBhbmFseXNpcywgc3RhcnRpbmcgZnJvbSBhIGNvdW50IHRhYmxlIHRoYXQncyBzaW1pbGFyIHRvIHdoYXQgeW91IGdlbmVyYXRlZCBpbiB0aGUgZmlyc3QgaGFsZiBvZiB0aGUgd29ya3Nob3AgYW5kIHNpbWlsYXIgdG8gdGhlIG9uZSBvZiB0aGUgb3V0cHV0cyBpbmNsdWRlZCBpbiB0aGUgW2RhdGEgdGhhdCB0aGUgQWR2YW5jZWQgR2Vub21pY3MgQ29yZSBkZWxpdmVyc10oaHR0cHM6Ly9icmNmLm1lZGljaW5lLnVtaWNoLmVkdS9jb3Jlcy9hZHZhbmNlZC1nZW5vbWljcy9kYXRhLWRlbGl2ZXJ5LykgZm9yIFJOQS1zZXEgbGlicmFyaWVzLgoKIVtdKGltYWdlcy93YXlmaW5kZXIvd2F5ZmluZGVyLTA3LnBuZyl7d2lkdGg9OTUlfQoKIyBSZXByb2R1Y2libGUgUmVzZWFyY2gKClRvZGF5IHdlJ2xsIGJlIGV4cGxvcmluZyBzb21lIFJOQS1zZXEgZGF0YSB0aGF0IGlzIGZhaXJseSByZXByZXNlbnRhdGl2ZSBvZiB3aGF0IHdlIHNlZSBpbiB0aGUgY29yZSBhbmQgc3RhcnQgd2l0aCBpbnB1dCBmaWxlcyBzaW1pbGFyIHRvIHRoZSBjb3VudCB0YWJsZSB5b3UgZ2VuZXJhdGVkIGluIHRoZSBwcmV2aW91cyBzdGVwcyBhbmQgc2ltaWxhciB0byBvbmUgb2YgdGhlIG91dHB1dHMgY3VycmVudGx5IGJlaW5nIGRlbGl2ZXJlZCBieSB0aGUgQWR2YW5jZWQgU2VxdWVuY2luZyBDb3JlLgoKIyMjIyBbV2FybS1VcF0KClRvIGdldCBzdGFydGVkLCBsZXQncyBnZXQgYSBzZW5zZSBvZiB3aGF0IGFwcHJvYWNoZXMgeW91IGFscmVhZHkgdXNlIHRvIGNvbXBhcmUgZ2VuZSBleHByZXNzaW9uOgoKKiBJZiB5b3UndmUgcnVuIGEgcVBDUiBhc3NheSBhbmQgZW5qb3llZCBhbGwgdGhlIHBpcGV0dGluZywgcHV0IHVwIGEgZ3JlZW4gJ2NoZWNrJy4gSWYgeW91J3ZlIHJ1biBhIHFQQ1IgYXNzYXkgYW5kIG5lZWRlZCBzb21lIHRpbWUgYXdheSBmcm9tIHRoZSBtdWx0aWNoYW5uZWxzLCBwdXQgdXAgYSByZWQgJ3gnIGZyb20gdGhlIHJlYWN0aW9uIHBhbmVsLgoqIElmIGNsb25pbmcgYSBnZW5lIHJlcG9ydGVyIGNvbnN0cnVjdCAoaWU6IHByb21vdGVyICsgR0ZQKSwgd29ya2VkIGZvciB5b3UgdGhlIGZpcnN0IHRpbWUsIHB1dCB1cCBhIGdyZWVuIGNoZWNrLiBJZiB5b3UgaGF2ZSBhIGZyZWV6ZXIgYm94IGZ1bGwgb2YgY2xvbmluZyBhdHRlbXB0cywgcHV0IHVwIGEgcmVkICd4Jy4KKiBJZiB5b3UgYXJlIHJlYWR5IHRvIGxlYXJuIGFib3V0IGJpb2luZm9ybWF0aWMgdG9vbHMgZm9yIGNvbXBhcmluZyBnZW5lIGV4cHJlc3Npb24sIHB1dCB1cCBhIGdyZWVuIGNoZWNrLiBJZiB5b3UgaGF2ZSBzb21lIHF1ZXN0aW9ucyB0aGF0IHNob3VsZCBiZSBhZGRyZXNzZWQgYmVmb3JlIHdlIGdldCBzdGFydGVkLCB1c2UgdGhlICdyYWlzZSBoYW5kJyByZWFjdGlvbi4KCiMgR2V0dGluZyBTdGFydGVkCgojIyBMb2cgb24gdG8gUlN0dWRpbyBTZXJ2ZXIKCk9wZW4gYSB3ZWIgYnJvd3NlciBhbmQgZW50ZXIgdGhlIGZvbGxvd2luZyBVUkwuCgpgYGAKaHR0cDovL2JmeC13b3Jrc2hvcDAxLm1lZC51bWljaC5lZHUKYGBgCgpZb3Ugc2hvdWxkIG5vdyBiZSBsb29raW5nIGF0IGEgcGFnZSB0aGF0IHdpbGwgYWxsb3cgeW91IHRvIGxvZ2luIHRvIHRoZSBSU3R1ZGlvIHNlcnZlcjoKCjxpbWcgc3JjPSJpbWFnZXMvcnN0dWRpb19sb2dpbl9zY3JlZW4ucG5nIiBhbHQ9InJzdHVkaW8gZGVmYXVsdCBzZXNzaW9uIiBzdHlsZT0id2lkdGg6IDEwMDBweDsiLz4KCkVudGVyIHlvdXIgdXNlciBjcmVkZW50aWFscyBhbmQgY2xpY2sgPGtiZD5TaWduIEluPC9rYmQ+LiBUaGUgY3JlZGVudGlhbHMgd2VyZSBwcm92aWRlZCB2aWEgZW1haWwsIGJ1dCBpZiB5b3UgZm9yZ2V0IHlvdXJzLCBhIGhlbHBlciBjYW4gcmV0cmlldmUgaXQgZm9yIHlvdSwganVzdCBhc2sgaW4gU2xhY2suIFlvdSBzaG91bGQgbm93IHNlZSB0aGUgUlN0dWRpbyBpbnRlcmZhY2U6Cgo8aW1nIHNyYz0iaW1hZ2VzL3JzdHVkaW9fc2Vzc2lvbl9kZWZhdWx0LnBuZyIgYWx0PSJyc3R1ZGlvIGRlZmF1bHQgc2Vzc2lvbiIgc3R5bGU9IndpZHRoOjEwMDBweDsiLz4KCiMjIENyZWF0ZSBhbiBSU3R1ZGlvIFByb2plY3QKCkluIHRoZSBDb21wdXRhdGlvbmFsIEZvdW5kYXRpb24gd29ya3Nob3Agd2UgY3JlYXRlZCBhIHByb2plY3Qgcm9vdGVkIGluIGEgcGFydGljdWxhciBkaXJlY3RvcnkgYW5kIHN0b3JlZCBvdXIgZGF0YSwgc2NyaXB0cyBhbmQgb3V0cHV0IHdpdGhpbiB0aGF0IHByb2plY3QuIExldCdzIGRvIHRoZSBzYW1lIHRoaW5nLCBidXQgZm9yIHRoZSBkaWZmZXJlbnRpYWwgZXhwcmVzc2lvbiBwYXJ0IG9mIHRoaXMgd29ya3Nob3AuCgoxLiBUbyBjcmVhdGUgYSBwcm9qZWN0LCBnbyB0byB0aGUgPGtiZD5GaWxlPC9rYmQ+IG1lbnUsIGFuZCBjbGljayA8a2JkPk5ldyBQcm9qZWN0Li4uPC9rYmQ+LiBUaGUgZm9sbG93aW5nIHdpbmRvdyB3aWxsIGFwcGVhcjoKCjxpbWcgc3JjPSJpbWFnZXMvbmV3X3Byb2plY3Rfd2luZG93LnBuZyIgYWx0PSJuZXcgcHJvamVjdCB3aW5kb3ciIHN0eWxlPSJ3aWR0aDogNjAwcHg7Ii8+CgoyLiBJbiB0aGlzIHdpbmRvdywgc2VsZWN0IDxrYmQ+RXhpc3RpbmcgRGlyZWN0b3J5PC9rYmQ+LiBGb3IgIlByb2plY3Qgd29ya2luZyBkaXJlY3RvcnkiLCBjbGljayA8a2JkPkJyb3dzZS4uLjwva2JkPiwgc2VsZWN0IHRoZSAiUlNEX1IiIGZvbGRlciwgYW5kIGNsaWNrIDxrYmQ+Q2hvb3NlPC9rYmQ+LiBUaGlzIHdpbGwgdXNlIHRoZSBgL2hvbWUvd29ya3Nob3AvdXNlci9SU0RfUmAgZm9sZGVyIGFzIHRoZSBwcm9qZWN0IGRpcmVjdG9yeS4KCjMuIEZpbmFsbHkgY2xpY2sgPGtiZD5DcmVhdGUgUHJvamVjdDwva2JkPi4gSW4gdGhlICJGaWxlcyIgdGFiIG9mIHlvdXIgb3V0cHV0IHBhbmUgKG1vcmUgYWJvdXQgdGhlIFJTdHVkaW8gbGF5b3V0IGluIGEgbW9tZW50KSwgeW91IHNob3VsZCBzZWUgYW4gUlN0dWRpbyBwcm9qZWN0IGZpbGUsICoqUlNEX1IuUnByb2oqKi4gQWxsIFJTdHVkaW8gcHJvamVjdHMgZW5kIHdpdGggdGhlICIqKi5ScHJvaioqIiBmaWxlIGV4dGVuc2lvbi4KCk5vdGUgdGhhdCB0aGVyZSBpcyBhbHJlYWR5IGEgYGRhdGEvYCBmb2xkZXIgd2hpY2ggY29udGFpbnMgdGhlIGRhdGEgd2Ugd2lsbCB1c2UgZm9yIHRoZXNlIGxlc3NvbnMuCgojIyBDcmVhdGluZyBhbiBSIHNjcmlwdAoKTGV0J3MgY3JlYXRlIGFuIFIgc2NyaXB0IGZpbGUgdG8gc3RvcmUgYWxsIHRoZSBjb2RlIHdlJ3JlIGdvaW5nIHRvIHJ1biBpbiB0aGUgZm9ydGhjb21pbmcgbGVzc29ucy4KCi0gQ2xpY2sgdGhlIDxrYmQ+RmlsZTwva2JkPiBtZW51IGFuZCBzZWxlY3QgPGtiZD5OZXcgRmlsZTwva2JkPiBhbmQgdGhlbiA8a2JkPlIgU2NyaXB0PC9rYmQ+LgotIEJlZm9yZSB3ZSBnbyBhbnkgZnVydGhlciwgc2F2ZSB5b3VyIHNjcmlwdCBieSBjbGlja2luZyB0aGUgc2F2ZS9kaXNrIGljb24gdGhhdCBpcyBpbiB0aGUgYmFyIGFib3ZlIHRoZSBmaXJzdCBsaW5lIGluIHRoZSBzY3JpcHQgZWRpdG9yLCBvciBjbGljayB0aGUgPGtiZD5GaWxlPC9rYmQ+IG1lbnUgYW5kIHNlbGVjdCA8a2JkPlNhdmU8L2tiZD4uCi0gSW4gdGhlICJTYXZlIEZpbGUiIHdpbmRvdyB0aGF0IG9wZW5zLCBzZWxlY3QgPGtiZD5OZXcgRm9sZGVyPC9rYmQ+LiBOYW1lIGl0ICoqInNjcmlwdHMiKiouCi0gRmluYWxseSwgbmFtZSB5b3VyIGZpbGUgKioiZGlmZmV4IioqIGluIHRoZSAiRmlsZSBuYW1lIiBmaWVsZC4KClRoZSBuZXcgc2NyaXB0ICoqZGlmZmV4LlIqKiBpcyBub3cgaW4gdGhlIGBzY3JpcHRzYCBmb2xkZXIuIFlvdSBjYW4gc2VlIHRoYXQgYnkgY2xpY2tpbmcgdGhlIGBzY3JpcHRzYCBmb2xkZXIgaW4gdGhlICJGaWxlcyIgcGFuZS4gQW5kIHlvdSBjYW4gZ28gYmFjayB1cCB0byB0aGUgbWFpbiBwcm9qZWN0IGZvbGRlciBieSBjbGlja2luZyB0aGUgYC4uYCB0byB0aGUgcmlnaHQgb2YgdGhlIHVwIGFycm93IGluIHRoZSAiRmlsZXMiIHBhbmUuIEJ5IGNvbnZlbnRpb24sIFIgc2NyaXB0cyBlbmQgd2l0aCB0aGUgZmlsZSBleHRlbnNpb24gKiouUioqLgoKIyMgQmVzdCBwcmFjdGljZXMgZm9yIGZpbGUgb3JnYW5pemF0aW9uCgpBcyB3aWRlbHkgZGlzY3Vzc2VkLCBpbmNsdWRpbmcgaW4gYSByZXZpZXcgYnkgW05vYmVsLCAyMDA5XShodHRwczovL2pvdXJuYWxzLnBsb3Mub3JnL3Bsb3Njb21wYmlvbC9hcnRpY2xlP2lkPTEwLjEzNzEvam91cm5hbC5wY2JpLjEwMDA0MjQpLCBmaWxlIG9yZ2FuaXphdGlvbiBhbmQgZGF0YSBzdGV3YXJkc2hpcCBhcmUgYW4gaW1wb3J0YW50IHBhcnRzIG9mIHJlcHJvZHVjaWJsZSByZXNlYXJjaC4KClRvIGZvbGxvdyBiZXN0IHByYWN0aWNlcyBmb3IgZmlsZSBvcmdhbml6YXRpb24gZm9yIGJpb2luZm9ybWF0aWNzL2NvbXB1dGF0aW9uYWwgcHJvamVjdHMsIHdlIHNob3VsZCBtYWtlIGRpc3RpbmN0IGxvY2F0aW9ucyBmb3I6CgoqIFJhdyBkYXRhCiogQ29kZQoqIE91dHB1dAoKU3VjaCBhcyBpbGx1c3RyYXRlZCBpbiB0aGlzIGZpZ3VyZSBmcm9tIHRoZSBOb2JsZSByZXZpZXc6Cgo8aW1nIHNyYz0iaW1hZ2VzL05vYmxlMjAwOV9kYXRhcHJvamVjdHMucG5nIiBhbHQ9Im5ldyBwcm9qZWN0IHdpbmRvdyIgc3R5bGU9IndpZHRoOiA2MDBweDsiLz4KClRvIG9yZ2FuaXplIG91ciBmaWxlcyBmb3Igb3VyIGFuYWx5c2lzIHRvZGF5LCB3ZSdsbCBjcmVhdGUgc29tZSBkaXJlY3RvcmllcyBpbiB0aGUgYFJTRF9SYCBmb2xkZXIgd2hpY2ggaXMgbm93IG91ciBwcm9qZWN0IHJvb3QgYW5kIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkuIFdlIGNhbiBhbHJlYWR5IHNlZSB0aGF0IHRoZXJlIGEgYGRhdGEvYCBmb2xkZXIgYW5kIHdlIGp1c3QgY3JlYXRlZCB0aGUgYHNjcmlwdHMvYCBmb2xkZXIgd2l0aCB0aGUgUlN0dWRpbyBHVUkuIExldCdzIGNyZWF0ZSBhbiBgb3V0cHV0cy9gIGZvbGRlciB1c2luZyB0aGUgYGRpci5jcmVhdGUoKWAgZnVuY3Rpb24gaW4gUi4KCmBgYHtyIGNyZWF0ZV9kaXJzLCBldmFsID0gRkFMU0V9CmRpci5jcmVhdGUoIm91dHB1dHMiKQpgYGAKCioqQ2hlY2twb2ludCoqOiAqUGxlYXNlIHVzZSB0aGUgZ3JlZW4gJ2NoZWNrJyBpZiB5b3UgaGF2ZSBzYXZlZCB5b3VyIGNvZGUgZmlsZSBhbmQgc2VlIHRoZSBgZGF0YWAsIGBzY3JpcHRzYCwgYW5kIGBvdXRwdXRzYCBkaXJlY3RvcmllcyBpbiB0aGUgYFJTRF9SYCBmb2xkZXIgYW5kIHRoZSByZWQgJ3gnIGlmIHlvdSBkbyBub3QuKgoKPiAjIFJlbWluZGVyOiBDb2RlIGV4ZWN1dGlvbiBzaG9ydGN1dAo+Cj4gKipDdHJsLUVudGVyKiogaXMgYSBzdGFuZGFyZCBzaG9ydGN1dCBpbiBSc3R1ZGlvIHRvIHNlbmQgdGhlIGN1cnJlbnQgbGluZSAob3Igc2VsZWN0ZWQgbGluZXMpIHRvIHRoZSBjb25zb2xlLiBJZiB5b3Ugc2VlIGFuIGA+YCwgdGhlbiBSIGhhcyBleGVjdXRlZCB0aGUgY29tbWFuZC4gSWYgeW91IHNlZSBhIGArYCwgdGhpcyBtZWFucyB0aGF0IHRoZSBjb21tYW5kIGlzIG5vdCBjb21wbGV0ZSBhbmQgUiBpcyB3YWl0aW5nICh1c3VhbGx5IGZvciBhIGApYCkuCj4KPGJyPgoKPiAjIFJlbWluZGVyOiBPYmplY3QgbmFtaW5nIGNvbnZlbnRpb25zCj4gKiBDYW5ub3Qgc3RhcnQgd2l0aCBudW1iZXJzCj4gKiBDYW5ub3QgaW5jbHVkZSBkYXNoZXMKPiAqIENhbm5vdCBoYXZlIHNwYWNlcwo+ICogU2hvdWxkIG5vdCBiZSBpZGVudGljYWwgdG8gYSBuYW1lZCBmdW5jdGlvbgo+ICogRG90cyAmIHVuZGVyc2NvcmVzIHdpbGwgd29yayBidXQgYXJlIGJldHRlciB0byBhdm9pZAoKLS0tCgojIyBDaGVjayBwYWNrYWdlIGluc3RhbGxhdGlvbnMKClNldmVyYWwgIHBhY2thZ2VzIGhhdmUgYWxyZWFkeSBiZWVuIGluc3RhbGxlZCBvbiB0aGUgc2VydmVyLCBzbyB3ZSBjYW4gbG9hZCB0aGVtIGludG8gb3VyIFIgc2Vzc2lvbiBub3cuIFRvIGRvIHRoYXQgd2UnbGwgdXNlIHRoZSBgbGlicmFyeWAgZnVuY3Rpb24gdG8gbG9hZCB0aGUgcmVxdWlyZWQgcGFja2FnZXMuCgpgYGB7ciBNb2R1bGVzLCBtZXNzYWdlPUZBTFNFLCB3YXJuaW5nPSBGQUxTRSwgZXZhbD1UUlVFfQpsaWJyYXJ5KERFU2VxMikKbGlicmFyeShnZ3Bsb3QyKQpsaWJyYXJ5KHRpZHlyKQpsaWJyYXJ5KGRwbHlyKQpsaWJyYXJ5KG1hdHJpeFN0YXRzKQpsaWJyYXJ5KGdncmVwZWwpCmxpYnJhcnkocGhlYXRtYXApCmxpYnJhcnkoUkNvbG9yQnJld2VyKQpsaWJyYXJ5KGRhdGEudGFibGUpCmBgYAoKKk5vdGU6IFdlIGV4cGVjdCB0byBzZWUgc29tZSByZWQgbWVzc2FnZXMgaW4geW91ciBjb25zb2xlIHdoaWxlIHRoZXNlIHBhY2thZ2VzIGFyZSBsb2FkaW5nKgoKUi9SU3R1ZGlvIGhhcyBncmVhdCByZXNvdXJjZXMgZm9yIGdldHRpbmcgaGVscCwgaW5jbHVkaW5nIFtjb2RlICdjaGVhdHNoZWV0cyddKGh0dHBzOi8vd3d3LnJzdHVkaW8uY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE2LzEwL3ItY2hlYXQtc2hlZXQtMy5wZGYpIGFuZCBwYWNrYWdlIHZpZ25ldHRlcywgbGlrZSBmb3IgW3RpZHlyXShodHRwczovL2NyYW4uci1wcm9qZWN0Lm9yZy93ZWIvcGFja2FnZXMvdGlkeXIvdmlnbmV0dGVzL3RpZHktZGF0YS5odG1sKS4KClNpbmNlIHdlIGxvYWRlZCB0aGUgbGlicmFyaWVzIGludG8gb3VyIFIgc2Vzc2lvbiwgd2UgY2FuIHNlZSBkb2N1bWVudGF0aW9uIG91dCB1c2luZyB0aGUgYD9gIG9wZXJhdG9yLgpgYGB7ciBDaGVja0RvY3VtZW50YWlvbn0KP2BERVNlcTItcGFja2FnZWAKYGBgCgoqKkNoZWNrcG9pbnQqKjogKklmIHlvdSBzZWUgdGhlIFIgZG9jdW1lbnRhdGlvbiBmb3IgYERFU2VxMmAgcG9wIHVwIGluIHlvdXIgJ2hlbHAnIHBhbmVsIG9uIHRoZSByaWdodCwgcGxlYXNlIGluZGljYXRlIHdpdGggdGhlIGdyZWVuICdjaGVjaycgYnV0dG9uLiBJZiBub3QgcGxlYXNlIHVzZSB0aGUgcmVkICd4JyBidXR0b24uKgoKLS0tLQoKIyBUb29scyBmb3IgRGlmZmVyZW50aWFsIEdlbmUgRXhwcmVzc2lvbiBhbmFseXNpcwoKQXMgZGlzY3Vzc2VkIGR1cmluZyB0aGUgd2ViaW5hciwgYSBjb21tb24gYXBwbGljYXRpb24gZm9yIGJ1bGsgUk5BLXNlcSBpcyB0byB0ZXN0IGZvciBkaWZmZXJlbnRpYWwgZXhwcmVzc2lvbiBiZXR3ZWVuIGNvbmRpdGlvbnMgb3IgdHJlYXRtZW50cywgdXNpbmcgc3RhdGlzdGljYWwgYXBwcm9hY2hlcyB0aGF0IGFyZSBhcHByb3ByaWF0ZSBmb3IgYmlvbG9naWNhbCBkYXRhLgoKV2hpbGUgdGhlcmUgYXJlIHNldmVyYWwgdG9vbHMgdGhhdCBjYW4gYmUgdXNlZCBmb3IgZGlmZmVyZW50aWFsIGV4cHJlc3Npb24gY29tcGFyaXNvbnMsIHdlIHdpbGwgdXNlIFtERVNlcTJdKGh0dHBzOi8vYmlvY29uZHVjdG9yLm9yZy9wYWNrYWdlcy9yZWxlYXNlL2Jpb2MvaHRtbC9ERVNlcTIuaHRtbCkgaW4gb3VyIGFuYWx5c2lzIHRvZGF5LgoKREVTZXEyIGlzIG9uZSBvZiB0d28gdG9vbHMsIGFsb25nIHdpdGggW0VkZ2VSXShodHRwczovL2Jpb2NvbmR1Y3Rvci5vcmcvcGFja2FnZXMvcmVsZWFzZS9iaW9jL2h0bWwvZWRnZVIuaHRtbCksIGNvbnNpZGVyZWQgWydiZXN0IHByYWN0aWNlJ10oaHR0cHM6Ly9ibWNiaW9pbmZvcm1hdGljcy5iaW9tZWRjZW50cmFsLmNvbS9hcnRpY2xlcy8xMC4xMTg2LzE0NzEtMjEwNS0xNC05MSkgZm9yIGRpZmZlcmVudGlhbCBleHByZXNzaW9uLiBCb3RoIHRvb2xzIGFwcGx5IHNpbWlsYXIgbWV0aG9kcyB0aGF0IGFjY291bnQgZm9yIHRoZSBkaXN0cmlidXRpb25zIHdlIGV4cGVjdCB0byBzZWUgZm9yIFJOQS1zZXEgYW5kIGFyZSBmYWlybHkgc3RyaW5nZW50IGluIGNhbGxpbmcgZGlmZmVyZW50aWFsbHkgZXhwcmVzc2VkIGdlbmVzLCBsb3dlcmluZyB0aGUgcmlzayBvZiBpbnZlc3RpZ2F0aW5nIGdlbmVzIHRoYXQgd2VyZSByZWFsbHkgZmFsc2UgcG9zaXRpdmVzIChlLmcuIGRvbid0IHJlYWxseSBoYXZlIGRpZmZlcmVudCBleHByZXNzaW9uIGJldHdlZW4gdHJlYXRtZW50IGdyb3VwcyBhbmQgdGhlcmVmb3JlIGFyZSBub3QgcmVsZXZhbnQgdG8gdGhlIGJpb2xvZ2ljYWwgcHJvY2VzcykuCgpBZGRpdGlvbmFsbHksIGBERVNlcTJgIGFsc28gaGFzIGFuCltleGNlbGxlbnQgdmlnbmV0dGVdKGh0dHBzOi8vYmlvY29uZHVjdG9yLm9yZy9wYWNrYWdlcy9yZWxlYXNlL2Jpb2MvdmlnbmV0dGVzL0RFU2VxMi9pbnN0L2RvYy9ERVNlcTIuaHRtbCkgKmNsaWNrIGxpbmsgdG8gb3BlbioKZnJvbSBMb3ZlLCBBbmRlcnMsIGFuZCBIdWJlciwgZnJvbSB3aGljaCBvdXIgd29ya2Zsb3cgaXMgcGFydGlhbGx5IGFkYXB0ZWQsIGFuZCBpcyBhIGdvb2QgcmVzb3VyY2Ugd2hlbiBhbmFseXppbmcgeW91ciBvd24gZGF0YQooc2VlIGFsc286IFtMb3ZlLCBBbmRlcnMsIGFuZCBIdWJlci4gX0dlbm9tZSBCaW9sb2d5Xy4gMjAxNC5dKGh0dHBzOi8vZG9pLm9yZy8xMC4xMTg2L3MxMzA1OS0wMTQtMDU1MC04KSkuCgoKPGRldGFpbHM+CiAgICA8c3VtbWFyeT4qQ2xpY2sgZm9yIGFkZGl0aW9uYWwgcmVzb3VyY2VzIHJlZ2FyZGluZyBzdGF0aXN0aWNhbCB0ZXN0aW5nIGFuZCB0b29sIGNvbXBhcmlzb24gZm9yIFJOQS1zZXEgZGF0YSo8L3N1bW1hcnk+CiAgICBUbyBsZWFybiBtb3JlIGFib3V0IHN0YXRpc3RpY2FsIHRlc3RpbmcgYW5kIHdoYXQgZGlzdHJpYnV0aW9ucyBiZXN0IG1vZGVsIHRoZSBiZWhhdmlvciBvZiBSTkEtc2VxIGRhdGEsIGEgZ29vZCByZXNvdXJjZSBpcyB0aGlzIFtFZFggbGVjdHVyZSBieSBSYWZhZWwgSXJpemFycnldKGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9SEs3V0tzTDNjMncmZmVhdHVyZT15b3V0dS5iZSkgb3IgdGhpcyBbbGVjdHVyZSBieSBLYXNwZXIgSGFuc2VuXShodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PUM4Uk52V3U3cEF3KS4gQW5vdGhlciBoZWxwZnVsIGd1aWRlIGlzIHRoaXMgW0NvbXBhcmF0aXZlIFN0dWR5IGZvciBEaWZmZXJlbnRpYWwgRXhwcmVzc2lvbiBBbmFseXNpcyBieSBaaGFuZyBldCBhbC5dKGh0dHBzOi8vam91cm5hbHMucGxvcy5vcmcvcGxvc29uZS9hcnRpY2xlP2lkPTEwLjEzNzEvam91cm5hbC5wb25lLjAxMDMyMDcpIGZyb20gMjAxNC4KPC9kZXRhaWxzPgoKCiMjIERFU2VxMiBhc3N1bXB0aW9ucyBhbmQgcmVxdWlyZW1lbnRzCgpBIGtleSBhc3N1bXB0aW9uIG9mIERFU2VxMiBpcyB0aGF0IGZvciBtb3N0IGV4cGVyaW1lbnRzICpiaW9sb2dpY2FsIHZhcmlhbmNlIGlzIG11Y2ggZ3JlYXRlciB0aGFuIHRlY2huaWNhbCB2YXJpYW5jZSogKGVzcGVjaWFsbHkgaWYgW2Jlc3QgcHJhY3RpY2VzXShodHRwczovL3d3dy50eGdlbi50YW11LmVkdS9mYXEvcm5hLWlzb2xhdGlvbi1iZXN0LXByYWN0aWNlcy8pIGZvciBbcXVhbGl0eSBSTkEgaXNvbGF0aW9uXShodHRwczovL3d3dy5iaW9jb21wYXJlLmNvbS9CZW5jaC1UaXBzLzEyODc5MC1Gb3VyLVRpcHMtZm9yLVBlcmZlY3RpbmctUk5BLUlzb2xhdGlvbi8pIGFyZSBmb2xsb3dlZCwgaW5jbHVkaW5nIEROYXNlIHRyZWF0bWVudCEpLgoKClNpbmNlIGNhbGN1bGF0aW5nIHZhcmlhbmNlIGlzIGtleSB0byB0aGUgc3RhdGlzdGljYWwgYXBwcm9hY2ggdXNlZCBmb3IgREVTZXEyLCBpZiB3ZSB0cmllZCB0byBjb21wYXJlIHR3byB0cmVhdG1lbnQgZ3JvdXBzIHdpdGggbGVzcyB0aGFuICoqdHdvKiogcmVwbGljYXRlcywgd2Ugd291bGQgZ2V0IGFuIGVycm9yIChhcyBzaG93biBpbiBbdGhpcyBibG9nIHBvc3RdKGh0dHBzOi8vc3VwcG9ydC5iaW9jb25kdWN0b3Iub3JnL3AvODk3NDYvKSkuIFdpdGhvdXQgcmVwbGljYXRlcywgdGhlcmUgY2FuJ3QgYmUgc3RhdGlzdGljYWwgc2lnbmlmaWNhbmNlIChlLmcuIHAtdmFsdWVzKSwgYnV0ICpxdWFsaXRhdGl2ZSogYXBwcm9hY2hlcyBhcmUgYW4gb3B0aW9uLCBsaWtlIGxvb2tpbmcgYXQgdGhlIHRvcCBleHByZXNzZWQgZ2VuZXMgYWZ0ZXIgbm9ybWFsaXphdGlvbi4KCiMjIyBSZXBsaWNhdGVzIGluIFJOQS1zZXEgZXhwZXJpbWVudHMKCkEgZnJlcXVlbnQgcXVlc3Rpb24gZm9yIFJOQS1zZXEgcHJvamVjdHMgaXMgIkhvdyBtYW55IHJlcGxpY2F0ZXMgZG8gSSBuZWVkPyIuCgpUaGUgZ2VuZXJhbCBnb2FsIG9mIG91ciBhbmFseXNlcyBpcyB0byBzZXBhcmF0ZSB0aGUg4oCcaW50ZXJlc3RpbmfigJ0gYmlvbG9naWNhbCBjb250cmlidXRpb25zIGZyb20gdGhlIOKAnHVuaW50ZXJlc3RpbmfigJ0gdGVjaG5pY2FsIG9yIG90aGVyIGNvbnRyaWJ1dGlvbnMgdGhhdCBlaXRoZXIgY2Fubm90IGJlIG9yIHdlcmUgbm90IGNvbnRyb2xsZWQgaW4gdGhlIGV4cGVyaW1lbnRhbCBkZXNpZ24uIFRoZSBtb3JlIHNvdXJjZXMgb2YgdmFyaWF0aW9uLCBzdWNoIGFzIHNhbXBsZXMgY29taW5nIGZyb20gaGV0ZXJvZ2Vub3VzIHRpc3N1ZXMgb3IgZXhwZXJpbWVudHMgd2l0aCBpbmNvbXBsZXRlIGtub2NrZG93bnMsIHRoZSBtb3JlIHJlcGxpY2F0ZXMgKD4zKSBhcmUgcmVjb21tZW5kZWQuCgoKIVtJbWFnZSBvZiB0ZWNobmljYWwsIGJpb2xvZ2ljYWwsIGFuZCBleHBlcmltZW50YWwgY29udHJpYnV0b3JzIHRvIGdlbmUgZXhwcmVzc2lvbiwgZnJvbSBIQkMgdHJhaW5pbmcgbWF0ZXJpYWxzXShpbWFnZXMvZGVfdmFyaWF0aW9uLnBuZyl7d2lkdGg9NzUlfQoKCkZvciBhIG1vcmUgaW4gZGVwdGggZGlzY3Vzc2lvbiBvZiBleHBlcmltZW50YWwgZGVzaWduIGNvbnNpZGVyYXRpb25zLCBwYXJ0aWN1bGFybHkgZm9yIHRoZSBudW1iZXIgb2YgcmVwbGljYXRlcywgcGxlYXNlIHJlYWQgW0EgQmVnaW5uZXLigJlzIEd1aWRlIHRvIEFuYWx5c2lzIG9mIFJOQSBTZXF1ZW5jaW5nIERhdGFdKGh0dHBzOi8vd3d3Lm5jYmkubmxtLm5paC5nb3YvcG1jL2FydGljbGVzL1BNQzYwOTYzNDYvKSBhbmQgcGFwZXJzIGxpa2UgdGhpcyBvbmUgYnkgW0hhcnQgZXQgYWxdKGh0dHBzOi8vd3d3Lm5jYmkubmxtLm5paC5nb3YvcG1jL2FydGljbGVzL1BNQzM4NDI4ODQvKSB0aGF0IGZvY3VzIG9uIGVzdGltYXRpbmcgc3RhdGlzdGljYWwgcG93ZXIgZm9yIFJOQS1zZXEgZXhwZXJpbWVudHMuCgojIyMjIFNlcXVlbmNpbmcgZGVwdGggcmVjb21tZW5kYXRpb25zCgpBIHJlbGF0ZWQgZXhwZXJpbWVudGFsIGRlc2lnbiBjb25zaWRlcmF0aW9uIGlzIGhvdyBtdWNoIHNlcXVlbmNpbmcgZGVwdGggc2hvdWxkIGJlIGdlbmVyYXRlZCBwZXIgc2FtcGxlLiBUaGlzIGZpZ3VyZSBzaGFyZWQgYnkgSWxsdW1pbmEgaW4gdGhlaXIgdGVjaG5pY2FsIHRhbGtzIGlzIGhlbHBmdWwgdG8gdW5kZXJzdGFuZCB0aGUgcmVsYXRpdmUgaW1wb3J0YW5jZSBvZiByZXBsaWNhdGVzIHZlcnN1cyBzZXF1ZW5jaW5nIGRlcHRoLgoKCiFbSWxsdW1pbmEncyBkaWZmZXJlbnRpYWwgZXhwcmVzc2lvbiByZWNvdmVyeSBhY3Jvc3MgcmVwbGljYXRlIG51bWJlciBhbmQgc2VxdWVuY2luZyBkZXB0aF0oaW1hZ2VzL2RlX3JlcGxpY2F0ZXNfaW1nLnBuZyl7d2lkdGg9NzUlfQoKR2VuZXJhbGx5LCBmb3IgdGhlIGh1bWFuIGFuZCBtb3VzZSBnZW5vbWVzLCB0aGUgcmVjb21tZW5kYXRpb24gaXMgMzAtNDAgbWlsbGlvbiByZWFkcyBwZXIgc2FtcGxlIGZvciBwb2x5QSBsaWJyYXJ5IHByZXBzIHRvIGNhcHR1cmUgYm90aCBoaWdobHkgZXhwcmVzc2VkIChhYnVuZGFudCkgYW5kIG1vcmUgbG93bHkgZXhwcmVzc2VkIChyYXJlcikgdHJhbnNjcmlwdHMsIGFzc3VtaW5nIHRoYXQgfjI1LDAwMCBwcm90ZWluLWNvZGluZyBnZW5lcyB3b3VsZCBiZSBtZWFzdXJlZC4gSG93ZXZlciwgYXMgdGhlIGltYWdlIGFib3ZlIHNob3dzLCBzZXF1ZW5jaW5nIGRlcHRoIGhhcyBsZXNzIG9mIGFuIGltcGFjdCB0aGFuIG51bWJlciBvZiByZXBsaWNhdGVzIGluIGRldGVjdGluZyBkaWZmZXJlbnRpYWxseSBleHByZXNzZWQgZ2VuZXMgKERFR3MpLgoKIyMjIyBbRXhlcmNpc2VdOiBCdWlsZGluZyBhIGJldHRlciB1bmRlcnN0YW5kaW5nIG9mIGRpZmZlcmVudGlhbCBleHByZXNzaW9uIGFuYWx5c2lzCgoxKSBQb3N0IGEgY29tbWVudCBiZWxvdyByZWdhcmRpbmcgd2hhdCBrZXkgcXVlc3Rpb24vbWlzY29uY2VwdGlvbiByZWdhcmRpbmcgZGVzaWduaW5nIGFuIFJOQS1zZXEgZXhwZXJpbWVudCB3ZSB3ZXJlIGFibGUgdG8gYWRkcmVzcyAqKk9SKioKMSkgUG9zdCBhIHF1ZXN0aW9uIHRoYXQgdGhhdCB3YXMgTk9UIGFkZHJlc3NlZCBidXQgdGhhdCB5b3UgaG9wZSB3ZSB3aWxsIGFkZHJlc3MgaW4gdGhlIGxhdGVyIG1vZHVsZXMgKipPUioqCjEpIEFkZCBhIHRodW1icyB1cCB0byB5b3VyIGZhdm9yaXRlIGNvbW1lbnQocykgdG8gdXB2b3RlIGl0CgotLS0tCgoKIyMjIFJhdyBkYXRhIGFzIGlucHV0CgpBbm90aGVyIGtleSBhc3N1bXB0aW9uIGZvciBERVNlcTIgaXMgdGhhdCB0aGUgYW5hbHlzaXMgd2lsbCBzdGFydCB3aXRoIFt1bi1ub3JtYWxpemVkIGNvdW50c10oaHR0cDovL2Jpb2NvbmR1Y3Rvci5vcmcvcGFja2FnZXMvZGV2ZWwvYmlvYy92aWduZXR0ZXMvREVTZXEyL2luc3QvZG9jL0RFU2VxMi5odG1sI3doeS11bi1ub3JtYWxpemVkLWNvdW50cykuCgpUbyBiZWdpbiBvdXIgYW5hbHlzaXMsIHdlJ2xsIHJlYWQgaW4gdGhlICoqcmF3KiogY291bnQgZGF0YSBmaWxlLCBgZ2VuZV9leHBlY3RlZF9jb3VudC50eHRgIHdoaWNoIGlzIHNpbWlsYXIgdG8gd2hhdCB3b3VsZCBiZSBnZW5lcmF0ZWQgaW4gdGhlIGFsaWdubWVudCBzdGVwcyB5ZXN0ZXJkYXkgKGFuZCB3aGF0IHlvdSBjb3VsZCByZWNlaXZlIGZyb20gQUdDKS4gV2UnbGwgZGlzY3VzcyBsYXRlciBhIGZldyBub3JtYWxpemF0aW9ucyB0aGF0IGNhbiBiZSBoZWxwZnVsIGZvciB1cyB0byB1bmRlcnN0YW5kIGhvdyBtdWNoIGEgZ2VuZSBpcyBleHByZXNzZWQgd2l0aGluIG9yIGJldHdlZW4gc2FtcGxlcywgYnV0IG5vcm1hbGl6ZWQgZGF0YSAqKnNob3VsZCBub3QqKiBiZSB1c2VkIGFzIGFuIGlucHV0IGZvciBERVNlcTIuCgpgYGB7ciBEYXRhVGFibGUsIGV2YWw9VFJVRSwgZWNobz1GQUxTRX0KIyMgbmVlZCB0byBpbmNsdWRlIHBhdGhzIHJlbGF0aXZlIHRvIHNpdGUgYnVpbGQgbG9jYXRpb25zIGJ1dCBrZWVwIGNvZGUgYmxvY2sgaGlkZGVuCmNvdW50X3RhYmxlIDwtIHJlYWQudGFibGUoIi4uL2RhdGEvZ2VuZV9leHBlY3RlZF9jb3VudC50eHQiLCBoZWFkZXIgPSBUUlVFLCByb3cubmFtZXMgPSAxKQpgYGAKCmBgYHtyIERhdGFUYWJsZTIsIGV2YWw9RkFMU0V9CmNvdW50X3RhYmxlIDwtIHJlYWQudGFibGUoImRhdGEvZ2VuZV9leHBlY3RlZF9jb3VudC50eHQiLCBoZWFkZXIgPSBUUlVFLCByb3cubmFtZXMgPSAxKQpgYGAKYGBge3IgRGF0YVRhYmxlQ2hlY2ssIGV2YWw9VFJVRX0KaGVhZChjb3VudF90YWJsZSwgbj0yKSAjIGxvb2sgYXQgdGhlIHRvcCBvZiB0aGUgdGFibGUKYGBgCgpOb3cgdGhhdCB0aGUgZmlsZSBpcyByZWFkIGludG8gUiwgbm90ZSB0aGF0IHdlJ3ZlIGNyZWF0ZWQgYSBkYXRhIGZyYW1lIHRoYXQgaW5jbHVkZXMgJ2dlbmUgaWRzJyBpbiBFTlNFTUJMIGZvcm1hdCBhcyByb3duYW1lcyBhbmQgY291bnQgZGF0YSBmcm9tIHR3ZWx2ZSBkaWZmZXJlbnQgc2FtcGxlcy4KCiMjIyMgW0V4ZXJjaXNlXTogUlNFTSBvdXRwdXRzIHZlcnN1cyBERVNlcTIgaW5wdXQgcmVxdWlyZW1lbnRzCgpJZiB3ZSB0aGluayBiYWNrIHRvIHRoZSBSU0VNIG91dHB1dHMsIHRoZSAnZXhwZWN0ZWRfY291bnRzJyB0YWJsZSBtYXkgaW5jbHVkZSBmcmFjdGlvbnMgZHVlIHRvIGhvdyB0aGUgYWxpZ25tZW50IHRvb2wgcmVzb2x2ZXMgcmVhZHMgdGhhdCBtYXAgdG8gbXVsdGlwbGUgbG9jdXNlcykuIFNpbmNlIERFU2VxMiByZXF1aXJlcyB3aG9sZSBudW1iZXJzLCBpZiB3ZSB0cnkgdG8gdXNlIHRoZSBSU0VNIG91cHV0cyBkaXJlY3RseSwgREVTZXEyIHdpbGwgZ2l2ZSB1cyBhbiBlcnJvci4KCkZpcnN0IGxldCdzIGNoZWNrIHRoZSBjb3VudCB0YWJsZSBpbiBhIGRpZmZlcmVudCB3YXksIHRvIHNlZSBpZiBvdXIgdGFibGUgaW5jbHVkZXMgZnJhY3Rpb25zLgpgYGB7ciBSU0VNb3V0cHV0fQp0YWlsKGNvdW50X3RhYmxlLCBuPTIpCmBgYAoKKltRdWVzdGlvbl06IFRvIHJlc29sdmUgdGhpcyBkaXNjcmVwYW5jeSBiZXR3ZWVuIHRoZSBSU0VNIG91dHB1dHMgYW5kIGV4cGVjdGVkIGlucHV0IGZvciBERVNlcTIsIHdoYXQgY291bGQgd2UgZG8/KgoKVG8gcm91bmQgZG93biBhbGwgdGhlIGNvbHVtbnMgb2Ygb3VyIGBjb3VudF90YWJsZWAgdGhhdCBpbmNsdWRlIGNvdW50IGRhdGEgKGFsbCBjb2x1bW5zIHNpbmNlIHdlIHNldCB0aGUgZ2VuZSBuYW1lcyB0byBiZSBvdXIgcm93IG5hbWVzKSwgd2UgY2FuIHVzZSB0aGUgYHJvdW5kYCgpYCBmdW5jdGlvbi4KYGBge3IgUm91bmRSYXdDb3VudHN9CmNvdW50X3RhYmxlIDwtIHJvdW5kKGNvdW50X3RhYmxlKQp0YWlsKGNvdW50X3RhYmxlLCBuPTIpICMgbm93IHdob2xlIG51bWJlcnMKYGBgCgpBbiBpbXBvcnRhbnQgbm90ZSBpcyB0aGF0IHRoZXJlIGFyZSBzZXZlcmFsIGJvbnVzIGNvbnRlbnQgc2VjdGlvbnMgb24gdGhlIGluc3RydWN0aW9uIHBhZ2VzLCBsaWtlIHRoZSB0d28gYmVsb3cgdGhhdCB3ZSB3aWxsIG5vdCBiZSBjb3ZlcmluZyBpbiB0aGlzIHdvcmtzaG9wLCBidXQgdGhhdCBtYXkgaGF2ZSB1c2VmdWwgY29udGV4dCBvciBiZSBoZWxwZnVsIHdoZW4geW91IHJldmlldyB0aGlzIG1hdGVyaWFsLgoKPGRldGFpbHM+CiAgICA8c3VtbWFyeT4qQ2xpY2sgZm9yIGFsdGVybmF0aXZlIERFU2VxMiBpbnB1dCBvcHRpb25zIGZvciBSU0VNIG91dHB1dHMqPC9zdW1tYXJ5PgogICAgVGhlIHBhY2thZ2UgYHR4aW1wb3J0YCBpcyBhbm90aGVyIG9wdGlvbltyZWNvbW1lbmRlZCB0aGUgREVTZXEyICBhdXRob3JzXShodHRwczovL3N1cHBvcnQuYmlvY29uZHVjdG9yLm9yZy9wLzkwNjcyLykgdG8gcmVhZCBpbiB0aGUgUlNFTSBleHBlY3RlZF9jb3VudHMsIGFzIHRoaXMgIHBhY2thZ2UgYWxsb3dzIGZvciB0aGUgYXZlcmFnZSB0cmFuc2NyaXB0IGxlbmd0aCBwZXIgZ2VuZSB0byBiZSB1c2VkIGluIHRoZSBERSBhbmFseXNpcyBhbmQsIGFzIFtkZXNjcmliZWQgYnkgdGhlIGF1dGhvcl0oaHR0cHM6Ly9zdXBwb3J0LmJpb2NvbmR1Y3Rvci5vcmcvcC84ODc2My8pLCB0aGUgYHR4aW1wb3J0LXRvLURFU2VxRGF0YVNldGAgY29uc3RydWN0b3IgZnVuY3Rpb24gcm91bmQgdGhlIG5vbi1pbnRlZ2VyIGRhdGEgZ2VuZXJhdGVkIGJ5IFJTRU0gdG8gd2hvbGUgbnVtYmVycy4KCjwvZGV0YWlscz4KCjxkZXRhaWxzPgogICAgPHN1bW1hcnk+KkNsaWNrIGZvciBjb21wYXJpc29uIG9mIFJOQS1zZXEgZGF0YSBhbmQgbWljcm9hcnJheSBkYXRhKjwvc3VtbWFyeT4KICAgIFdpdGggW2hpZ2hlciBzZW5zaXRpdml0eSwgZ3JlYXRlciBmbGV4aWJsaXR5LCBhbmQgZGVjcmVhc2luZyBjb3N0XShodHRwczovL3d3dy5pbGx1bWluYS5jb20vc2NpZW5jZS90ZWNobm9sb2d5L25leHQtZ2VuZXJhdGlvbi1zZXF1ZW5jaW5nL21pY3JvYXJyYXktcm5hLXNlcS1jb21wYXJpc29uLmh0bWwpLCBzZXF1ZW5jaW5nIGhhcyBsYXJnZWx5IHJlcGxhY2VkIG1pY3JvYXJyYXkgYXNzYXlzIGZvciBtZWFzdXJpbmcgZ2VuZSBleHByZXNzaW9uLiBBIGtleSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHBsYXRmb3JtcyBpcyB0aGF0IG1pY3JvYXJyYXlzIG1lYXN1cmUgaW50ZW5zaXRpZXMgYW5kIGFyZSB0aGVyZWZvcmUgKmNvbnRpbm91cyogZGF0YSB3aGlsZSB0aGUgY291bnQgZGF0YSBmcm9tIHNlcXVlbmNpbmcgaXMgKmRpc2NyZXRlKi4gQSBtb3JlIGRldGFpbGVkIGNvbXBhcmlzb24gYmV0d2VlbiBtaWNyb2FycmF5cyBhbmQgc2VxdWVuY2luZyB0ZWNobm9sb2dpZXMvYW5hbHlzaXMgaXMgb3V0bGluZWQgaW4gW3RoZSBvbmxpbmUgbWF0ZXJpYWxzIGZvciBQZW5uIFN0YXRlJ3MgU1RBVDU1NSBjb3Vyc2VdKGh0dHBzOi8vb25saW5lLnN0YXQucHN1LmVkdS9zdGF0NTU1L25vZGUvMzAvKQoKPC9kZXRhaWxzPgoKCiMjIEdldHRpbmcgaGVscAoKUi9Sc3R1ZGlvIGhhcyBhIHN0cm9uZyBjb21tdW5pdHkgY29tcG9uZW50IHNvIGlmIHlvdSBhcmUgZ2V0dGluZyBhbiBlcnJvciBvciB3b25kZXJpbmcgaG93IHRvIG1ha2UgYSBjb21tYW5kIHdvcmsgb3IgaG93IHRvIHBlcmZvcm0gYSBzcGVjaWZpYyB0YXNrLCB0aGVyZSBpcyBsaWtlbHkgYWxyZWFkeSBhIHNvbHV0aW9uIG91dCB0aGVyZS4gUmVtZW1iZXIgdGhhdCBHb29nbGUgaXMgeW91ciBmcmllbmQsIGFsdGhvdWdoIGl0IGNhbiBzb21ldGltZXMgYmUgYSBjaGFsbGVuZ2UgdG8gZmlndXJlIG91dCAqd2hhdCB0byBzZWFyY2ggZm9yKi4gS2V5IHBhcnRzIG9mIGEgc3VjY2Vzc2Z1bCBzZWFyY2g6CgoqIFBhY2thZ2Ugb3IgY29tbWFuZCBydW4KKiBgUmAgb3IgYEJpb2NvbmR1Y3RvcmAKKiBUaGUgZXJyb3IgbWVzc2FnZSBpZiB0aGVyZSBpcyBvbmUKKiBWZXJzaW9uIGluZm9ybWF0aW9uCgpIb3cgdG8gZ2V0IHNlc3Npb24gaW5mb3JtYXRpb24gdG8gYWlkIGluIGEgc2VhcmNoOgpgYGB7ciBTZXNzaW9uIGluZm8sIGV2YWwgPSBGQUxTRSwgbWVzc2FnZSA9IEZBTFNFfQpzZXNzaW9uSW5mbygpCmBgYAoKCkhpZ2hseSByZWNvbW1lbmQgdXNpbmcgcmVzb3VyY2VzIGxpa2UgW0Jpb2NvbmR1Y3RvciBTdXBwb3J0XShodHRwczovL3N1cHBvcnQuYmlvY29uZHVjdG9yLm9yZy8pLCBbQmlvc3RhcnNdKGh0dHBzOi8vd3d3LmJpb3N0YXJzLm9yZy8pLCBhbmQgW1N0YWNrIE92ZXJmbG93XShodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy90YWdnZWQvciksIGluY2x1ZGluZyB0aHJlYWRzIG9uIHNwZWNpZmljIHBhY2thZ2VzIG9yIGNvbW1vbiBiaW9pbmZvcm1hdGljIHRhc2tzLgoKSSBwZXJzb25hbGx5IHVzZSBvbmUgb3IgbW9yZSBvZiB0aGVzZSByZXNvdXJjZXMgKipldmVyeSBkYXkqKi4KCjEweCBhbHNvIGhhcyBhIGhlbHBmdWwgWzEwIHRpcHMgZm9yIGJpb2xvZ2lzdHMgbGVhcm5pbmcgIGJpb2luZm9ybWF0aWNzXShodHRwczovL3d3dy4xMHhnZW5vbWljcy5jb20vcmVzb3VyY2VzL2FuYWx5c2lzLWd1aWRlcy8xMC10aXBzLWZvci1iaW9sb2dpc3RzLWxlYXJuaW5nLWJpb2luZm9ybWF0aWNzKSBpbmNsdWRlZCBpbiB0aGVpciByZXNvdXJjZXMuCgojIFN1bW1hcnkKCkluIHRoaXMgc2VjdGlvbiwgd2U6CgoqIFNldCB1cCBvdXIgY29tcHV0ZSBlbnZpcm9ubWVudAoqIExlYXJuZWQgYWJvdXQgREVTZXEyCiogTG9hZGVkIG91ciByYXcgY291bnQgdGFibGVzIChpbnB1dCBmaWxlIDEpCgpOb3cgdGhhdCB3ZSBoYXZlIG91ciBjb3VudCBkYXRhIHByb2Nlc3NlZCwgd2UgY2FuIG1vdmUgb24gdG8gInVuYmxpbmRpbmciIG91ciBkYXRhLCBhcyB0aGUgc2FtcGxlIG5hbWVzIGFyZSB1bmlxdWUgaWRlbnRpZmllcnMgZ2VuZXJhdGVkIGJ5IGEgc2VxdWVuY2luZyBjZW50ZXIgYW5kIG5vdCB2ZXJ5IGluZm9ybWF0aXZlIGFzIGZhciBhcyBvdXIgZXhwZXJpbWVudGFsIGNvbmRpdGlvbnMuCgotLS0KCiMgU291cmNlcwoKVHJhaW5pbmcgcmVzb3VyY2VzIHVzZWQgdG8gZGV2ZWxvcCBtYXRlcmlhbHM6CgoqIEhCQyBER0Ugc2V0dXA6IGh0dHBzOi8vaGJjdHJhaW5pbmcuZ2l0aHViLmlvL0RHRV93b3Jrc2hvcC9sZXNzb25zLzAxX0RHRV9zZXR1cF9hbmRfb3ZlcnZpZXcuaHRtbAoqIEhCQyBDb3VudCBOb3JtYWxpemF0aW9uOiBodHRwczovL2hiY3RyYWluaW5nLmdpdGh1Yi5pby9ER0Vfd29ya3Nob3AvbGVzc29ucy8wMl9ER0VfY291bnRfbm9ybWFsaXphdGlvbi5odG1sCiogREVTZXEyIHN0YW5kYXJkIHZpZ25ldHRlOiBodHRwOi8vYmlvY29uZHVjdG9yLm9yZy9wYWNrYWdlcy9kZXZlbC9iaW9jL3ZpZ25ldHRlcy9ERVNlcTIvaW5zdC9kb2MvREVTZXEyLmh0bWwKKiBERVNlcTIgYmVnaW5uZXJzIHZpZ25ldHRlOiBodHRwczovL2Jpb2MuaXNtLmFjLmpwL3BhY2thZ2VzLzIuMTQvYmlvYy92aWduZXR0ZXMvREVTZXEyL2luc3QvZG9jL2JlZ2lubmVyLnBkZgoqIEJpb2NvbmR1Y3RvciBSTkEtc2VxIFdvcmtmbG93czogaHR0cHM6Ly93d3cuYmlvY29uZHVjdG9yLm9yZy9oZWxwL2NvdXJzZS1tYXRlcmlhbHMvMjAxNS9MZWFybkJpb2NvbmR1Y3RvckZlYjIwMTUvQjAyLjFfUk5BU2VxLmh0bWwKKiBDQ0RMIEdhc3RyaWMgY2FuY2VyIHRyYWluaW5nIG1hdGVyaWFsczogaHR0cHM6Ly9hbGV4c2xlbW9uYWRlLmdpdGh1Yi5pby90cmFpbmluZy1tb2R1bGVzL1JOQS1zZXEvMDMtZ2FzdHJpY19jYW5jZXJfZXhwbG9yYXRvcnkubmIuaHRtbAoqIENDREwgTmV1cm9ibGFzdG9tYSB0cmFpbmluZyBtYXRlcmlhbHM6IGh0dHBzOi8vYWxleHNsZW1vbmFkZS5naXRodWIuaW8vdHJhaW5pbmctbW9kdWxlcy9STkEtc2VxLzA1LW5iX2NlbGxfbGluZV9ERVNlcTIubmIuaHRtbAoKCmBgYHtyIFdyaXRlT3V0LlJEYXRhLCBldmFsPVRSVUUsIGVjaG89RkFMU0UsIG1lc3NhZ2U9RkFMU0V9CiNIaWRkZW4gY29kZSBibG9jayB0byB3cml0ZSBvdXQgZGF0YSBmb3Iga25pdHRpbmcKCmRpci5jcmVhdGUoInJkYXRhIiwgc2hvd1dhcm5pbmdzPUZBTFNFKQpzYXZlLmltYWdlKGZpbGUgPSAicmRhdGEvUnVubmluZ0RhdGEuUkRhdGEiKQojSG93IHRvIGxvYWQgZm9yIG5leHQgc2VnbWVudAojbG9hZCgicmRhdGEvUnVubmluZ0RhdGEuUkRhdGEiKQpgYGAKCi0tLQoKVGhlc2UgbWF0ZXJpYWxzIGhhdmUgYmVlbiBhZGFwdGVkIGFuZCBleHRlbmRlZCBmcm9tIG1hdGVyaWFscyBsaXN0ZWQgYWJvdmUuIFRoZXNlIGFyZSBvcGVuIGFjY2VzcyBtYXRlcmlhbHMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBbQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiBsaWNlbnNlIChDQyBCWSA0LjApXShodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS80LjAvKSwgd2hpY2ggcGVybWl0cyB1bnJlc3RyaWN0ZWQgdXNlLCBkaXN0cmlidXRpb24sIGFuZCByZXByb2R1Y3Rpb24gaW4gYW55IG1lZGl1bSwgcHJvdmlkZWQgdGhlIG9yaWdpbmFsIGF1dGhvciBhbmQgc291cmNlIGFyZSBjcmVkaXRlZC4K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("Module06_DEAnalysisSetup.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
